# Migration Guide: v1.5.0 to v2.0.0

**Guide ID:** MIG_1766969173140_404F4B7C
**Estimated Time:** 15-30 minutes
**Difficulty:** Moderate - Some code updates needed
**Generated:** 2025-12-29

---

## Overview

This guide walks you through upgrading from v1.5.0 to v2.0.0.
Follow each step carefully to ensure a smooth transition.

---

## Prerequisites

Before starting the migration, ensure you have:

1. Backup of your current installation
2. Access to the deployment environment
3. Familiarity with the Gospel v3.0 requirements
4. Git access to the repository

---

## Pre-Migration Checklist

- [ ] Current version confirmed: v1.5.0
- [ ] Database backup completed
- [ ] Configuration files backed up
- [ ] Downtime window scheduled (if required)
- [ ] Team notified of migration
- [ ] Rollback plan reviewed

---

## Migration Steps

### Step 1: Backup Current Installation

```powershell
# Create backup directory
mkdir C:\Backups\v1.5.0-backup

# Copy current installation
xcopy /E /I C:\AiCollabForTheKids C:\Backups\v1.5.0-backup\AiCollabForTheKids
```

---

### Step 2: Pull Latest Changes

```powershell
cd C:\AiCollabForTheKids
git fetch origin
git checkout v2.0.0
```

---

### Step 3: Update Dependencies

```powershell
npm install
```

---

### Step 4: Run Database Migrations (if applicable)

```powershell
npx prisma migrate deploy
```

---

### Step 5: Deploy New Version

```powershell
.\DEPLOY-EVERYTHING-ONE-CLICK.ps1
```

---

## Rollback Plan

If the migration fails, follow these steps to restore the previous version:

1. Stop all running services
2. Restore from backup:
   ```powershell
   xcopy /E /I C:\Backups\v1.5.0-backup\AiCollabForTheKids C:\AiCollabForTheKids
   ```
3. Restart services with previous version
4. Verify system health
5. Document the failure for investigation

---

## Post-Migration Verification

### 1. Verify API Health

```powershell
curl http://localhost:8080/health
```

**Expected:** `{"status":"healthy","version":"2.0.0"}`

---

### 2. Verify Dashboard

Navigate to http://localhost:5173 and confirm:
- Dashboard loads successfully
- Gospel split displayed (60/30/10)
- All metrics updating

---

### 3. Verify Database Connection

```powershell
npx prisma db pull
```

**Expected:** Schema pulls successfully without errors

---

## Troubleshooting

### Services Won't Start

**Symptom:** Services fail to start after migration
**Solution:** Check logs in `C:\AiCollabForTheKids\logs` for specific errors.
Ensure all environment variables are set correctly.

---

### Database Connection Failed

**Symptom:** Prisma cannot connect to database
**Solution:** Verify DATABASE_URL in .env file. Ensure PostgreSQL is running on T5500.

---

### API Returns 500 Errors

**Symptom:** Health check fails with server errors
**Solution:** Check API logs, verify all dependencies installed, restart services.

---

## Gospel Compliance

After migration, verify Gospel v3.0 compliance:

- [ ] Revenue split hardcoded: 60/30/10
- [ ] No "escrow" or "donation" language in codebase
- [ ] "Profit Allocation" and "Revenue Split" terminology used
- [ ] All new code authored by Claude
- [ ] Co-Authored-By: Claude in all commits

---

## Support

For migration assistance:
- Review Gospel documentation: `C:\AiCollabForTheKids\GOSPEL.md`
- Check fleet status: `C:\AiCollabForTheKids\FLEET-STATUS.md`

**FOR THE KIDS**

---
*Migration Guide generated by Changelog Generator*
*Co-Authored-By: Claude <noreply@anthropic.com>*
